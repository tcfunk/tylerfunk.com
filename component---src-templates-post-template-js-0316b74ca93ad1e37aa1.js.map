{"version":3,"file":"component---src-templates-post-template-js-0316b74ca93ad1e37aa1.js","mappings":"sNAcA,EAZkBA,EAAAA,QAAAA,GAAAA,MAAgB,CAChCC,UAAU,gHADG,0EAAGD,CAAH,MCGTE,EAAkBF,EAAAA,QAAAA,IAAAA,MAAiB,CACvCC,UAAU,sBADS,mFAAGD,CAAH,MAMfG,EAA4BH,EAAAA,QAAAA,IAAAA,MAAiB,CACjDC,UAAU,+CADmB,6FAAGD,CAAH,MAQzBI,EAAAA,SAAAA,GAAAA,SAAAA,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,YAAAA,KAUH,OAVGA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,EAAAA,UACJC,OAAA,WACE,OACE,uBAAKJ,UAAWK,KAAKC,MAAMN,WACzB,gBAACE,EAAD,KACE,gBAAC,EAAD,KAAYG,KAAKC,MAAMC,OACvB,gBAACN,EAAD,CAAiBO,wBAAyB,CAACC,OAAQJ,KAAKC,MAAMI,kBAIrE,EAVGP,CAAoBQ,EAAAA,WAa1B,I,UCtBMC,EAAUb,EAAAA,QAAAA,IAAAA,MAAiB,CAC/BC,UAAU,iKADC,4EAAGD,CAAH,MAePc,EAAYd,EAAAA,QAAAA,IAAAA,MAAiB,CACjCC,UAAU,yFADG,8EAAGD,CAAH,MAUTe,GAAYf,EAAAA,EAAAA,SAAOgB,EAAAA,GAAaC,MAAM,CAC1ChB,UAAU,mBADG,8EAAGD,CAAH,MAgHf,EAxGMkB,SAAAA,GAOJ,WAAYX,GAAQ,IAAD,SACjB,cAAMA,IAAN,MANFY,MAAQ,CACNC,UAAW,EACXC,WAAY,GAGK,EASnBC,iBAAmB,WACjB,IAAMC,EAAQ,EAAKC,SAASC,QAAQC,YAEpC,EAAKC,SAAS,CACZP,UAAWG,EACXF,WAAoB,EAARE,EAAY,KAG1B,EAAKK,QAAQC,OAAO,EAAKV,MAAMC,UAAW,EAAKD,MAAME,aAdrD,EAAKO,aAAUE,EACf,EAAKN,SAAWZ,EAAAA,YAChB,EAAKmB,aAAenB,EAAAA,YACpB,EAAKoB,WAAa,EAAKzB,MAAM0B,KAAKC,eAAeC,YAAYH,WAN5C,GAPfd,EAAAA,EAAAA,GAAAA,EAAAA,GAcH,kBA0DA,OA1DA,EAaDkB,kBAAA,WACE,GAAIC,OAAOC,UAAgC,OAApBhC,KAAK0B,WAAqB,CAC/C,IAAMT,EAAQjB,KAAKkB,SAASC,QAAQC,YAC9Ba,EAAiB,EAARhB,EAAY,GAE3BjB,KAAKsB,QAAU,IAAIS,OAAOC,SAASE,UAAUjB,EAAOgB,EAAQjC,KAAK0B,YACjE1B,KAAKkB,SAASC,QAAQgB,YAAYnC,KAAKsB,QAAQc,SAE/CL,OAAOM,iBAAiB,SAAUrC,KAAKgB,oBAG1C,EAEDsB,qBAAA,WACEP,OAAOQ,oBAAoB,SAAUvC,KAAKgB,mBAC3C,EAEDjB,OAAA,WACE,IAAQ6B,EAAmB5B,KAAKC,MAAM0B,KAA9BC,eACAY,EAAsBZ,EAAtBY,KAAMX,EAAgBD,EAAhBC,YAEd,OACE,gBAAC,IAAD,KACE,gBAACY,EAAA,EAAD,KACE,6BAAQZ,EAAY3B,OACpB,wBAAMwC,KAAK,cAAcC,SAAUd,EAAYxB,eAGjD,gBAACE,EAAD,KACE,gBAAC,EAAD,CACEZ,UAAU,yCACVO,MAAO2B,EAAY3B,MACnBG,YAAamC,IAEf,gBAAChC,EAAD,CAAWoC,IAAM5C,KAAKyB,cACpB,uBAAK9B,UAAU,OAAOiD,IAAM5C,KAAKkB,WAChCW,EAAYgB,OAAOC,KAAI,SAACC,GAAD,OACtB,2BACE,gBAACtC,EAAD,CAAWsC,MAAOA,EAAMC,IAAIC,gBAAgBC,0BAOzD,EAxEGtC,CAAiBN,EAAAA","sources":["webpack://tylerfunk.com/./src/components/postTitle.js","webpack://tylerfunk.com/./src/components/postDetails.js","webpack://tylerfunk.com/./src/templates/postTemplate.js"],"sourcesContent":["import styled from 'styled-components'\n\nconst PostTitle = styled.h1.attrs({\n  className: `\n    text-2xl\n    font-serif\n    font-light\n    mb-4\n    md:text-3xl\n    lg:text-4xl\n    lg:mb-6\n  `\n})``\n\nexport default PostTitle\n","import React from \"react\";\nimport styled from 'styled-components'\n\nimport PostTitle from './postTitle'\n\nconst PostDescription = styled.div.attrs({\n  className: `\n    font-lg\n  `\n})``\n\nconst PostDetailsContentWrapper = styled.div.attrs({\n  className: `\n    container\n    py-4\n    lg:px-4\n  `\n})``\n\nclass PostDetails extends React.Component {\n  render() {\n    return (\n      <div className={this.props.className}>\n        <PostDetailsContentWrapper>\n          <PostTitle>{this.props.title}</PostTitle>\n          <PostDescription dangerouslySetInnerHTML={{__html: this.props.description}}></PostDescription>\n        </PostDetailsContentWrapper>\n      </div>\n    )\n  }\n}\n\nexport default PostDetails","import React from 'react';\nimport { Helmet } from 'react-helmet'\nimport { graphql } from 'gatsby'\nimport styled from 'styled-components'\nimport { GatsbyImage } from 'gatsby-plugin-image'\n\nimport PostDetails from '../components/postDetails'\nimport Layout from '../layouts/layout'\n\n\nconst Article = styled.div.attrs({\n  className: `\n    grid\n    gap-4\n    grid-cols-1\n    grid-rows-1\n    py-6\n    lg:py-8\n    lg:container\n    lg:mx-auto\n    lg:grid-cols-3\n    lg:grid-rows-1\n  `\n})``\n\nconst MediaList = styled.div.attrs({\n  className: `\n    col-start-1\n    col-span-1\n    container\n    lg:px-0\n    lg:col-span-2\n  `\n})``\n\nconst MediaItem = styled(GatsbyImage).attrs({\n  className: `\n    mb-4\n  `\n})``\n\n\n\nclass Template extends React.Component {\n\n  state = {\n    listWidth: 0,\n    listHeight: 0,\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.mviewer = undefined\n    this.mviewRef = React.createRef()\n    this.mediaListRef = React.createRef()\n    this.viewerFile = this.props.data.markdownRemark.frontmatter.viewerFile\n  }\n\n  updateDimensions = () => {\n    const width = this.mviewRef.current.offsetWidth\n\n    this.setState({\n      listWidth: width,\n      listHeight: width * 9 / 16\n    })\n\n    this.mviewer.resize(this.state.listWidth, this.state.listHeight)\n  }\n\n  componentDidMount() {\n    if (window.marmoset && this.viewerFile !== null) {\n      const width = this.mviewRef.current.offsetWidth \n      const height = width * 9 / 16\n\n      this.mviewer = new window.marmoset.WebViewer(width, height, this.viewerFile)\n      this.mviewRef.current.appendChild(this.mviewer.domRoot)\n\n      window.addEventListener(\"resize\", this.updateDimensions)\n    }\n\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions)\n  }\n\n  render() {\n    const { markdownRemark } = this.props.data\n    const { html, frontmatter } = markdownRemark\n\n    return (\n      <Layout>\n        <Helmet>\n          <title>{frontmatter.title}</title>\n          <meta name=\"description\" contents={frontmatter.description}></meta>\n        </Helmet>\n\n        <Article>\n          <PostDetails\n            className=\"col-start-1 row-start-1 lg:col-start-3\"\n            title={frontmatter.title}\n            description={html}></PostDetails>\n\n          <MediaList ref={ this.mediaListRef }>\n            <div className='mb-4' ref={ this.mviewRef }></div>\n            {frontmatter.images.map((image) =>\n              <div>\n                <MediaItem image={image.src.childImageSharp.gatsbyImageData} />\n              </div>\n            )}\n          </MediaList>\n        </Article>\n      </Layout>\n    )\n  }\n  \n}\n\nexport const pageQuery = graphql`\nquery($slug: String!) {\n  markdownRemark(frontmatter: {slug: {eq: $slug}}) {\n    html\n    frontmatter {\n      slug\n      title\n      description\n      artstationId\n      viewerFile\n      videos {\n        src {\n          publicURL\n        }\n      }\n      images {\n        label\n        src {\n          childImageSharp {\n            gatsbyImageData(layout: CONSTRAINED)\n          }\n        }\n      }\n    }\n  }\n}\n`\n\nexport default Template"],"names":["styled","className","PostDescription","PostDetailsContentWrapper","PostDetails","render","this","props","title","dangerouslySetInnerHTML","__html","description","React","Article","MediaList","MediaItem","GatsbyImage","attrs","Template","state","listWidth","listHeight","updateDimensions","width","mviewRef","current","offsetWidth","setState","mviewer","resize","undefined","mediaListRef","viewerFile","data","markdownRemark","frontmatter","componentDidMount","window","marmoset","height","WebViewer","appendChild","domRoot","addEventListener","componentWillUnmount","removeEventListener","html","Helmet","name","contents","ref","images","map","image","src","childImageSharp","gatsbyImageData"],"sourceRoot":""}